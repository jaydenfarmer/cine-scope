<nav class="navbar" [class.menu-open]="menuOpen">
  <div class="navbar-inner">
    <!-- ✅ Keep your exact logo -->
    <button (click)="goHome()" class="logo-btn">
      <img src="/CineScope.png" alt="Movie Match Logo" class="logo-img" />
    </button>

    <!-- ✅ Keep your exact hamburger -->
    <button
      class="hamburger"
      (click)="menuOpen = !menuOpen"
      aria-label="Open menu"
    >
      &#9776;
    </button>

    <!-- ✅ Updated nav structure with mobile click support -->
    <div class="nav-links">
      <!-- Movies -->
      <div class="nav-dropdown" [class.mobile-open]="openDropdown === 'movies'">
        <span 
          class="nav-link" 
          (click)="toggleDropdown('movies', $event)"
        >
          Movies
          <span class="dropdown-arrow" *ngIf="isMobile">{{ openDropdown === 'movies' ? '▲' : '▼' }}</span>
        </span>
        <div class="dropdown-menu">
          <button (click)="navigateTo('movies/popular')">Popular</button>
          <button (click)="navigateTo('movies/top-rated')">Top Rated</button>
          <button (click)="navigateTo('movies/upcoming')">Upcoming</button>
        </div>
      </div>

      <!-- TV Shows -->
      <div class="nav-dropdown" [class.mobile-open]="openDropdown === 'tv'">
        <span 
          class="nav-link" 
          (click)="toggleDropdown('tv', $event)"
        >
          TV Shows
          <span class="dropdown-arrow" *ngIf="isMobile">{{ openDropdown === 'tv' ? '▲' : '▼' }}</span>
        </span>
        <div class="dropdown-menu">
          <button (click)="navigateTo('tv/popular')">Popular</button>
          <button (click)="navigateTo('tv/top-rated')">Top Rated</button>
          <button (click)="navigateTo('tv/airing-today')">Airing Today</button>
        </div>
      </div>

      <!-- People -->
      <div class="nav-dropdown" [class.mobile-open]="openDropdown === 'people'">
        <span 
          class="nav-link" 
          (click)="toggleDropdown('people', $event)"
        >
          People
          <span class="dropdown-arrow" *ngIf="isMobile">{{ openDropdown === 'people' ? '▲' : '▼' }}</span>
        </span>
        <div class="dropdown-menu">
          <button (click)="navigateTo('people/popular')">Popular People</button>
        </div>
      </div>

      <!-- ✅ Keep your exact theme switch -->
      <div class="theme-switch" (click)="themeService.toggleTheme()">
        <img
          src="/sun-icon.png"
          alt="Light mode"
          class="switch-icon"
          [class.active]="!themeService.isDarkMode()"
        />
        <span
          class="switch-slider"
          [class.right]="themeService.isDarkMode()"
        ></span>
        <img
          src="/moon-icon.png"
          alt="Dark mode"
          class="switch-icon"
          [class.active]="themeService.isDarkMode()"
        />
      </div>
    </div>

    <!-- ✅ Keep your exact spacer and search bar -->
    <div class="spacer"></div>

    <form
      class="search-bar"
      (submit)="onSubmit($event)"
      [class.expanded]="searchExpanded"
    >
      <input
        #searchInput
        type="text"
        [(ngModel)]="query"
        name="query"
        placeholder="Search movies..."
        autocomplete="off"
        [class.hide-on-collapsed]="!searchExpanded"
      />

      <button
        type="button"
        class="search-toggle"
        *ngIf="!searchExpanded"
        (click)="expandSearch($event)"
      >
        <img src="/search-icon.png" alt="Search" class="search-icon" />
      </button>

      <button type="submit" *ngIf="searchExpanded">
        <img src="/search-icon.png" alt="Search" class="search-icon" />
      </button>
    </form>
  </div>
</nav>